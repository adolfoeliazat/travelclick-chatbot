<!DOCTYPE html>
<html>
<head>
	<title>Booking assistant</title>

	<link href='https://fonts.googleapis.com/css?family=Lato:400,700,400italic' rel='stylesheet' type='text/css'>
	<link href="https://cdnjs.cloudflare.com/ajax/libs/json-formatter/0.6.0/json-formatter.min.css" rel="stylesheet" type="text/css" />
	<link href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.2/semantic.min.css" rel="stylesheet" type="text/css" />
	<link href="https://cdnjs.cloudflare.com/ajax/libs/pikaday/1.4.0/css/pikaday.min.css" rel="stylesheet" type="text/css" />
	
	<link rel="stylesheet/less" type="text/css" href="css/clearui.less" />
	<link rel="stylesheet/less" type="text/css" href="css/calendar.less" />
	<link rel="stylesheet/less" type="text/css" href="css/map-directions.less" />
</head>
<body ng-app="chatbot" ng-controller="chatCtrl">
	
	<!-- Topbar -->
	<div id="topbar">
		<div class="center">
			TravelClick ChatBot Assistant

			<a href="https://github.com/ktsakas/travelclick-chatbot"><i class="github icon"></i></a>
		</div>
	</div>	


	<div class="center">
		<!-- List of chat messages -->
		<ul id="chat">
			<li class="{{answer.owner}}" ng-controller="answerCtrl" ng-repeat="answer in answers">

				<ng-include
					ng-if="answer.type == 'msg'" src="'msg.html'" ng-controller="msgCtrl">
				</ng-include>

				<!-- Bot only answers -->
				<ng-include
					ng-if="answer.type == 'yes_no'" src="'yes_no.html'">
				</ng-include>
				
				<ng-include ng-if="answer.type == 'rooms'" src="'rooms.html'"></ng-include>
				
				<ng-include
					ng-if="answer.type == 'calendar'" src="'calendar.html'">
				</ng-include>
				
				<ng-include 
					ng-if="answer.type == 'map_directions'" src="'map_directions.html'">
				</ng-include>
			</li>

			<!-- Fit height fix -->
			<li style="clear: both;"></li>
		</ul>
		
		<!-- Input to send message -->
		<div id="footer">
			<form class="ui action input" ng-submit="submitMessage(this)">
				<input type="text" placeholder="Send a message..." ng-model="newMessage" />
				<button class="ui icon button"><i class="send icon"></i></button>
			</form>
		</div>
	</div>



	<!-- Message template -->
	<script type="text/ng-template" id="msg.html">
		<div class="ui msg {{answer.owner == 'user' ? 'left' : 'right'}} pointing label">
			{{answer.text}}
		</div>
	</script>


	<!-- Yes/No answer template -->
	<script type="text/ng-template" id="yes_no.html">
	<form ng-controller="yesNoCtrl" class="temporary">
		<button name="yes" ng-click="addMessage('Yes')" class="ui msg green right pointing label">Yes</button><br />
		<button name="no" ng-click="addMessage('No')" class="ui msg red right pointing label">No</button>
	</form>
	</script>


	<!-- Rooms list template -->
	<script type="text/ng-template" id="rooms.html">
	<div class="rooms" ng-controller="roomsCtrl">
		<div class="ui fluid card" ng-repeat="room in answer.rooms track by $index">
			<div class="content">
				{{room.roomTypeName}}
				<div class="meta">
				<span class="date">for 3 people</span>
				</div>
			</div>

			<img src="http://placehold.it/200x150" />
			<!-- <img ng-src="{{room.picture}}" /> -->

			<div class="content">
				<div class="ui two buttons">
					<button class="ui basic green button" ng-click="viewDetails()">Details</button>
					<button class="ui basic blue button" ng-click="bookRoom(room)">Book</button>
				</div>
			</div>
		</div>
	</div>
	</script>


	<!-- Calendar template -->
	<script type="text/ng-template" id="calendar.html">
	<form name="calendar" ng-controller="calendarCtrl">
		<input type="text" name="calendarField" style="display: none;" />

		<div class="container">
			<div class="calendar"></div>

			<div class="rangetip">from January 10th to January 15th</div>

			<input type="button" name="clear" class="ui negative basic button" value="Clear" />
			<input type="button" name="done" class="ui primary button" value="Done" />
		</div>

		<div class="avail-color">&nbsp;</div> Available
		<div class="booked-color">&nbsp;</div> Booked
	</form>
	</script>


	<!-- Map/Directions template -->
	<script type="text/ng-template" id="map_directions.html">
	<div ng-controller="mapDirectionsCtrl">
		<div class="map"></div>

		<div class="diretions">
			<div ng-repeat="step in directions">
				<span style="position: relative; margin-right: 19px;">
					<i class="adp-maneuver adp-{{step.maneuver}}"></i>
				</span>
				<span ng-bind-html="step.instructions | unsafe"></span>
			</div>
		</div>
	</div>
	</script>



	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.0.0/jquery.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/less.js/2.7.1/less.min.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.5/angular.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.2/semantic.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.14.1/moment.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/pikaday/1.4.0/pikaday.min.js"></script>
	<script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCbVQPyu3rG6eRovOO8PfXH5hHCktvtHyk"></script>

	<script src="js/main.js"></script>
	
	<script src="js/calendar-ctrl.js"></script>
	<script src="js/map-ctrl.js"></script>
	<script src="js/answer-ctrl.js"></script>
	<script src="js/rooms-ctrl.js"></script>

</body>
</html>