<!DOCTYPE html>
<html>
<head>
	<title>Booking assistant</title>

	<link href='https://fonts.googleapis.com/css?family=Lato:400,700,400italic' rel='stylesheet' type='text/css'>
	<link href="https://cdnjs.cloudflare.com/ajax/libs/json-formatter/0.6.0/json-formatter.min.css" rel="stylesheet" type="text/css" />
	<link href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.2/semantic.min.css" rel="stylesheet" type="text/css" />
	<link href="https://cdnjs.cloudflare.com/ajax/libs/pikaday/1.4.0/css/pikaday.min.css" rel="stylesheet" type="text/css" />
	
	<link rel="stylesheet/less" type="text/css" href="css/clearui.less" />
	<link rel="stylesheet/less" type="text/css" href="css/calendar.less" />
</head>
<body>

	<div id="topbar">
		<div class="center">
			TravelClick ChatBot Assistant

			<a href="https://github.com/ktsakas/travelclick-chatbot"><i class="github icon"></i></a>
		</div>
	</div>

	<div class="center">
		<ul id="chat">
			<li class="user">
				<div class="ui msg left pointing label">Wanna book a room?</div>
			</li>
			<li class="bot">
				<div class="ui msg right pointing label">Sure that sounds good.</div>				
			</li>

			<li class="bot">
			<!-- 
				<div class="ui msg yes">Yes</div>
				<div class="ui msg no">No</div>
			 -->
				<button class="ui msg green right pointing label">Yes</button>
				<button class="ui msg red right pointing label">No</button>
			</li>

			<li class="bot">

				<div class="ui fluid card">
					<div class="content">
						The Kingston Awesome Room
						<div class="meta">
						<span class="date">for 3 people</span>
						</div>
					</div>

					<img src="http://placehold.it/200x150" />

					<!-- <div class="content">for 3 people</div> -->

					<div class="content">
						<div class="ui two buttons">
							<div class="ui basic green button">Details</div>
							<div class="ui basic blue button">Book</div>
						</div>
					</div>
				</div>

			</li>

			<li class="bot">
				<!-- Start Date -->
				<input type="text" id="startDate" style="display: none;" />

				<div class="container">
					<div class="calendar"></div>

					<div class="rangetip">from January 10th to January 15th</div>

					<input type="button" class="ui negative basic button" value="Clear" />
					<input type="button" class="ui primary button" value="Done" />
				</div>

				<div class="avail-color">&nbsp;</div> Available
				<div class="booked-color">&nbsp;</div> Booked
			</li>
		</ul>

		<div id="footer">
			<div class="ui action input">
				<input type="text" placeholder="Send a message..." />
				<button class="ui icon button"><i class="send icon"></i></button>
			</div>
		</div>
	</div>


	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.0.0/jquery.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/less.js/2.7.1/less.min.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.5/angular.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.2/semantic.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.14.1/moment.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/pikaday/1.4.0/pikaday.min.js"></script>

	<script>
	var dateIn = null,
		dateOut = null;

	var startPicker = new Pikaday({
		field: document.getElementById('startDate'),
		firstDay: 1,
		minDate: new Date(2000, 0, 1),
		maxDate: new Date(2020, 12, 31),
		yearRange: [2000, 2020],
		bound: false,
		container: document.getElementsByClassName('calendar')[0],
		onDraw: function () {
			$("button[data-pika-day=14]").addClass('avail');
			$("button[data-pika-day=15]").addClass('booked');


			if (dateIn && dateOut) {
				var selectDate = moment(dateIn);

				console.log("day: " + selectDate.get('date') + " -- month: " + selectDate.get('month'));
				do {
					console.log(selectDate.get('date'), dateOut.getDate());

					$("button[data-pika-day=" + selectDate.get('date') + "][data-pika-month=" + selectDate.get('month') + "]")
						.addClass('selected');

				} while (!selectDate.isSame(dateOut) && selectDate.add(1, 'days'));
			}
		},
		onSelect: function () {
			if (!dateIn) {
				dateOut = dateIn = this.getDate();
				startPicker.setMinDate(dateIn);
			} else {
				dateOut = this.getDate();
			}
		}
	});

	console.log( $("button[data-pick-year=2016]") );

	/*var endPicker = new Pikaday({
		field: document.getElementById('endDate'),
		firstDay: 1,
		minDate: new Date(2000, 0, 1),
		maxDate: new Date(2020, 12, 31),
		yearRange: [2000, 2020],
		bound: false,
		container: document.getElementById('container'),
	});*/
	startPicker.setMinDate(new Date());

	/*startPicker.setStartRange(startDate);
	endPicker.setStartRange(startDate);
	endPicker.setMinDate(startDate);*/
	</script>
</body>
</html>